(function(e){function n(e,n){for(var t in n)e[t]=e[t]||n[t]}function t(e){var n=Object.keys(e).map(function(n){var t=e[n];if(typeof t==="object"&&t!==null){t=JSON.stringify(t)}return n+"="+encodeURIComponent(t)});return"?"+n.join("&")}function o(e,o,i,f,r){i.method=e;i.headers=i.headers||{};i.responseAs=i.responseAs&&["json","text","response"].indexOf(i.responseAs)>=0?i.responseAs:"json";n(i.headers,{Accept:"application/json","Content-Type":"application/json"});if(r){o+=t(r)}if(f){i.body=JSON.stringify(f)}else{delete i.body}return fetchival.fetch(o,i)}function fetchival(e,t){t=t||{};var i=function(o,i){o=e+"/"+o;i=i||{};n(i,t);return fetchival(o,i)};i.get=function(n){return o("GET",e,t,null,n)};i.post=function(n){return o("POST",e,t,n)};i.put=function(n){return o("PUT",e,t,n)};i.patch=function(n){return o("PATCH",e,t,n)};i.delete=function(){return o("DELETE",e,t)};return i}fetchival.fetch=typeof fetch!=="undefined"?fetch.bind(e):null;if(typeof exports==="object")module.exports=fetchival;else if(typeof define==="function"&&define.amd)define(function(){return fetchival});else e.fetchival=fetchival})(typeof window!="undefined"?window:undefined);
